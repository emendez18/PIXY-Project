#include <SPI.h>
#include <Pixy.h>
#include <Wire.h>
#include <Adafruit_MotorShield.h>


Adafruit_MotorShield AFMS = Adafruit_MotorShield();
Adafruit_DCMotor *myMotor = AFMS.getMotor(1);
Adafruit_DCMotor *jeffMotor = AFMS.getMotor(2);

Pixy pixy;

void setup() {
 Serial.begin(9600);
 Serial.print("Starting...\n"); 
 AFMS.begin();
 pixy.init();

 myMotor->setSpeed(150);
 jeffMotor->setSpeed(150);

}

void loop() {
 uint16_t numBlocks;
 uint16_t sigsDetected;
 uint8_t i;

 sigsDetected = pixy.getBlocks();

//detects a signature to go forward
 if (pixy.blocks[sigsDetected].signature == 1) {
  myMotor->run(FORWARD);
  jeffMotor->run(FORWARD);
  Serial.println("Moving Forward");
 }
 //detects a signature to turn left
 else if (pixy.blocks[sigsDetected].signature == 2) {
  // need to establish an x distance so it doesn't turn right when it detects the color
    myMotor->run(FORWARD);
    jeffMotor->run(BACKWARD);
    Serial.println("Turning Right");
 }
 //detects a signature to turn right
 else if (pixy.blocks[sigsDetected].signature == 3) {
  //same thing here with establishing x distance away
   myMotor->run(BACKWARD);
  jeffMotor->run(FORWARD);
  Serial.println("Turning Left");
 }

}
